<?/* call this element with $action and $callback */if (isset($action)) {$script =<<< EOD<script type="text/javascript"><!--$(function(){    $(".ajaxpost").submit(function(){        var postData = {};        $(".ajaxpost").find(':input').each(function(){            if ( !$(this).is(':disabled') ) {                // disableでない場合のみサーバに送る                if ( $(this).attr('type') == 'radio'  || $(this).attr('type') == "checkbox" ) {                    // ラジオボタンの場合                    if ( $(this).is(':checked') ) {                        postData[$(this).attr('name')] = $(this).val();                    }                }                else if ( $(this).get(0).tagName == "SELECT" ) {                    // セレクトボックスの場合                    postData[$(this).attr('name')] = $(this).val();                }                else {                    // その他                    postData[$(this).attr('name')] = $(this).val();                }            }        });        $.post('{$action}', postData,function(data){          {$callback}(data);        });        return false;    });});--></script>EOD;?><? $this->addScript($script) ?><? }